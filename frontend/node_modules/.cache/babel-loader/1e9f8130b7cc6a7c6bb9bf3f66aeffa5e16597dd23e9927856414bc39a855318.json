{"ast":null,"code":"import _objectSpread from\"C:/Users/Suren/Desktop/ClaudeApp/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FilterPanel=_ref=>{let{filters,onFilterChange}=_ref;const[categories,setCategories]=useState([]);const[brands,setBrands]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchFilters();},[]);const fetchFilters=async()=>{try{setLoading(true);const[categoriesRes,brandsRes]=await Promise.all([api.get('/products/categories'),api.get('/products/brands')]);// Handle both response formats\nsetCategories(categoriesRes.data.categories||categoriesRes.data||[]);setBrands(brandsRes.data.brands||brandsRes.data||[]);setLoading(false);}catch(error){console.error('Error fetching filters:',error);setLoading(false);}};const handleCategoryClick=category=>{onFilterChange(_objectSpread(_objectSpread({},filters),{},{category:filters.category===category?'':category}));};const handleBrandClick=brand=>{onFilterChange(_objectSpread(_objectSpread({},filters),{},{brand:filters.brand===brand?'':brand}));};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"filter-panel\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading filters...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"filter-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'20px',fontSize:'20px'},children:\"Filters\"}),categories.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-chips\",children:categories.map(category=>/*#__PURE__*/_jsx(\"button\",{className:\"filter-chip \".concat(filters.category===category?'active':''),onClick:()=>handleCategoryClick(category),children:category},category))})]}),brands.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Brand\"}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-chips\",children:brands.map(brand=>/*#__PURE__*/_jsx(\"button\",{className:\"filter-chip \".concat(filters.brand===brand?'active':''),onClick:()=>handleBrandClick(brand),children:brand},brand))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Price Range\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Min Price\",value:filters.minPrice||'',onChange:e=>onFilterChange(_objectSpread(_objectSpread({},filters),{},{minPrice:e.target.value})),className:\"filter-input\",style:{marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Max Price\",value:filters.maxPrice||'',onChange:e=>onFilterChange(_objectSpread(_objectSpread({},filters),{},{maxPrice:e.target.value})),className:\"filter-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Rating\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.minRating||'',onChange:e=>onFilterChange(_objectSpread(_objectSpread({},filters),{},{minRating:e.target.value})),className:\"filter-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Ratings\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\\u2605 & above\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\\u2605 & above\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\\u2605 & above\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Availability\"}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-chips\",children:/*#__PURE__*/_jsx(\"button\",{className:\"filter-chip \".concat(filters.inStock?'active':''),onClick:()=>onFilterChange(_objectSpread(_objectSpread({},filters),{},{inStock:!filters.inStock})),children:\"In Stock Only\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sort By\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.sort||'',onChange:e=>onFilterChange(_objectSpread(_objectSpread({},filters),{},{sort:e.target.value})),className:\"filter-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Default\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price_asc\",children:\"Price: Low to High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price_desc\",children:\"Price: High to Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rating\",children:\"Rating\"}),/*#__PURE__*/_jsx(\"option\",{value:\"newest\",children:\"Newest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"popular\",children:\"Most Popular\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onFilterChange({}),className:\"btn btn-secondary\",style:{width:'100%',marginTop:'10px'},children:\"Clear All Filters\"})]});};export default FilterPanel;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","FilterPanel","_ref","filters","onFilterChange","categories","setCategories","brands","setBrands","loading","setLoading","fetchFilters","categoriesRes","brandsRes","Promise","all","get","data","error","console","handleCategoryClick","category","_objectSpread","handleBrandClick","brand","className","children","style","marginBottom","fontSize","length","map","concat","onClick","type","placeholder","value","minPrice","onChange","e","target","maxPrice","minRating","inStock","sort","width","marginTop"],"sources":["C:/Users/Suren/Desktop/ClaudeApp/frontend/src/components/FilterPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../services/api';\r\n\r\nconst FilterPanel = ({ filters, onFilterChange }) => {\r\n  const [categories, setCategories] = useState([]);\r\n  const [brands, setBrands] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchFilters();\r\n  }, []);\r\n\r\n  const fetchFilters = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [categoriesRes, brandsRes] = await Promise.all([\r\n        api.get('/products/categories'),\r\n        api.get('/products/brands')\r\n      ]);\r\n      \r\n      // Handle both response formats\r\n      setCategories(categoriesRes.data.categories || categoriesRes.data || []);\r\n      setBrands(brandsRes.data.brands || brandsRes.data || []);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching filters:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCategoryClick = (category) => {\r\n    onFilterChange({ ...filters, category: filters.category === category ? '' : category });\r\n  };\r\n\r\n  const handleBrandClick = (brand) => {\r\n    onFilterChange({ ...filters, brand: filters.brand === brand ? '' : brand });\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"filter-panel\"><div className=\"loading\">Loading filters...</div></div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"filter-panel\">\r\n      <h3 style={{ marginBottom: '20px', fontSize: '20px' }}>Filters</h3>\r\n\r\n      {categories.length > 0 && (\r\n        <div className=\"filter-section\">\r\n          <h3>Category</h3>\r\n          <div className=\"filter-chips\">\r\n            {categories.map((category) => (\r\n              <button\r\n                key={category}\r\n                className={`filter-chip ${filters.category === category ? 'active' : ''}`}\r\n                onClick={() => handleCategoryClick(category)}\r\n              >\r\n                {category}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {brands.length > 0 && (\r\n        <div className=\"filter-section\">\r\n          <h3>Brand</h3>\r\n          <div className=\"filter-chips\">\r\n            {brands.map((brand) => (\r\n              <button\r\n                key={brand}\r\n                className={`filter-chip ${filters.brand === brand ? 'active' : ''}`}\r\n                onClick={() => handleBrandClick(brand)}\r\n              >\r\n                {brand}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"filter-section\">\r\n        <h3>Price Range</h3>\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Min Price\"\r\n          value={filters.minPrice || ''}\r\n          onChange={(e) => onFilterChange({ ...filters, minPrice: e.target.value })}\r\n          className=\"filter-input\"\r\n          style={{ marginBottom: '10px' }}\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Max Price\"\r\n          value={filters.maxPrice || ''}\r\n          onChange={(e) => onFilterChange({ ...filters, maxPrice: e.target.value })}\r\n          className=\"filter-input\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"filter-section\">\r\n        <h3>Rating</h3>\r\n        <select\r\n          value={filters.minRating || ''}\r\n          onChange={(e) => onFilterChange({ ...filters, minRating: e.target.value })}\r\n          className=\"filter-select\"\r\n        >\r\n          <option value=\"\">All Ratings</option>\r\n          <option value=\"4\">4★ & above</option>\r\n          <option value=\"3\">3★ & above</option>\r\n          <option value=\"2\">2★ & above</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"filter-section\">\r\n        <h3>Availability</h3>\r\n        <div className=\"filter-chips\">\r\n          <button\r\n            className={`filter-chip ${filters.inStock ? 'active' : ''}`}\r\n            onClick={() => onFilterChange({ ...filters, inStock: !filters.inStock })}\r\n          >\r\n            In Stock Only\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"filter-section\">\r\n        <h3>Sort By</h3>\r\n        <select\r\n          value={filters.sort || ''}\r\n          onChange={(e) => onFilterChange({ ...filters, sort: e.target.value })}\r\n          className=\"filter-select\"\r\n        >\r\n          <option value=\"\">Default</option>\r\n          <option value=\"price_asc\">Price: Low to High</option>\r\n          <option value=\"price_desc\">Price: High to Low</option>\r\n          <option value=\"rating\">Rating</option>\r\n          <option value=\"newest\">Newest</option>\r\n          <option value=\"popular\">Most Popular</option>\r\n        </select>\r\n      </div>\r\n\r\n      <button\r\n        onClick={() => onFilterChange({})}\r\n        className=\"btn btn-secondary\"\r\n        style={{ width: '100%', marginTop: '10px' }}\r\n      >\r\n        Clear All Filters\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}