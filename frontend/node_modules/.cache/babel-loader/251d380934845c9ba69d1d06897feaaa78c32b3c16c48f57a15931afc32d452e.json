{"ast":null,"code":"import axios from'axios';const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';console.log('ðŸ”— API URL configured:',API_URL);const api=axios.create({baseURL:API_URL,headers:{'Content-Type':'application/json'},timeout:10000});api.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}console.log('ðŸ“¤ API Request:',config.method.toUpperCase(),config.url);return config;},error=>{console.error('âŒ Request error:',error);return Promise.reject(error);});api.interceptors.response.use(response=>{console.log('ðŸ“¥ API Response:',response.config.url,'âœ“');return response;},error=>{var _error$response;console.error('âŒ API Error:',error.message);if(error.response){console.error('Response status:',error.response.status);console.error('Response data:',error.response.data);}else if(error.code==='ECONNABORTED'){console.error('Request timeout - server took too long to respond');}else if(error.request){console.error('No response - is the backend server running?');}if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');localStorage.removeItem('user');if(window.location.pathname!=='/login'){window.location.href='/login';}}return Promise.reject(error);});// Auth API\nexport const authAPI={register:userData=>api.post('/auth/register',userData),login:credentials=>api.post('/auth/login',credentials),logout:()=>api.post('/auth/logout'),getProfile:()=>api.get('/auth/profile')};// Product API\nexport const productAPI={getAll:params=>api.get('/products',{params}),getById:id=>api.get(\"/products/\".concat(id)),search:query=>api.get(\"/products/search?q=\".concat(query)),create:productData=>api.post('/products',productData),update:(id,productData)=>api.put(\"/products/\".concat(id),productData),delete:id=>api.delete(\"/products/\".concat(id))};// Review API\nexport const reviewAPI={getByProduct:productId=>api.get(\"/reviews/product/\".concat(productId)),create:reviewData=>api.post('/reviews',reviewData),update:(id,reviewData)=>api.put(\"/reviews/\".concat(id),reviewData),delete:id=>api.delete(\"/reviews/\".concat(id)),upvote:id=>api.post(\"/reviews/\".concat(id,\"/upvote\")),downvote:id=>api.post(\"/reviews/\".concat(id,\"/downvote\"))};// Order API\nexport const orderAPI={create:orderData=>api.post('/orders',orderData),getMyOrders:()=>api.get('/orders/my-orders'),getById:id=>api.get(\"/orders/\".concat(id)),addToCart:(productId,quantity)=>api.post('/orders/cart',{productId,quantity})};// Admin API\nexport const adminAPI={getAllUsers:()=>api.get('/admin/users'),getAllOrders:()=>api.get('/admin/orders'),updateOrderStatus:(id,status)=>api.put(\"/admin/orders/\".concat(id,\"/status\"),{status}),deleteUser:id=>api.delete(\"/admin/users/\".concat(id)),getStats:()=>api.get('/admin/stats')};export default api;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","console","log","api","create","baseURL","headers","timeout","interceptors","request","use","config","token","localStorage","getItem","Authorization","concat","method","toUpperCase","url","error","Promise","reject","response","_error$response","message","status","data","code","removeItem","window","location","pathname","href","authAPI","register","userData","post","login","credentials","logout","getProfile","get","productAPI","getAll","params","getById","id","search","query","productData","update","put","delete","reviewAPI","getByProduct","productId","reviewData","upvote","downvote","orderAPI","orderData","getMyOrders","addToCart","quantity","adminAPI","getAllUsers","getAllOrders","updateOrderStatus","deleteUser","getStats"],"sources":["C:/Users/Suren/Desktop/ClaudeApp/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconsole.log('ðŸ”— API URL configured:', API_URL);\r\n\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 10000\r\n});\r\n\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    console.log('ðŸ“¤ API Request:', config.method.toUpperCase(), config.url);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('âŒ Request error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    console.log('ðŸ“¥ API Response:', response.config.url, 'âœ“');\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error('âŒ API Error:', error.message);\r\n    if (error.response) {\r\n      console.error('Response status:', error.response.status);\r\n      console.error('Response data:', error.response.data);\r\n    } else if (error.code === 'ECONNABORTED') {\r\n      console.error('Request timeout - server took too long to respond');\r\n    } else if (error.request) {\r\n      console.error('No response - is the backend server running?');\r\n    }\r\n    \r\n    if (error.response?.status === 401) {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      if (window.location.pathname !== '/login') {\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Auth API\r\nexport const authAPI = {\r\n  register: (userData) => api.post('/auth/register', userData),\r\n  login: (credentials) => api.post('/auth/login', credentials),\r\n  logout: () => api.post('/auth/logout'),\r\n  getProfile: () => api.get('/auth/profile'),\r\n};\r\n\r\n// Product API\r\nexport const productAPI = {\r\n  getAll: (params) => api.get('/products', { params }),\r\n  getById: (id) => api.get(`/products/${id}`),\r\n  search: (query) => api.get(`/products/search?q=${query}`),\r\n  create: (productData) => api.post('/products', productData),\r\n  update: (id, productData) => api.put(`/products/${id}`, productData),\r\n  delete: (id) => api.delete(`/products/${id}`),\r\n};\r\n\r\n// Review API\r\nexport const reviewAPI = {\r\n  getByProduct: (productId) => api.get(`/reviews/product/${productId}`),\r\n  create: (reviewData) => api.post('/reviews', reviewData),\r\n  update: (id, reviewData) => api.put(`/reviews/${id}`, reviewData),\r\n  delete: (id) => api.delete(`/reviews/${id}`),\r\n  upvote: (id) => api.post(`/reviews/${id}/upvote`),\r\n  downvote: (id) => api.post(`/reviews/${id}/downvote`),\r\n};\r\n\r\n// Order API\r\nexport const orderAPI = {\r\n  create: (orderData) => api.post('/orders', orderData),\r\n  getMyOrders: () => api.get('/orders/my-orders'),\r\n  getById: (id) => api.get(`/orders/${id}`),\r\n  addToCart: (productId, quantity) => api.post('/orders/cart', { productId, quantity }),\r\n};\r\n\r\n// Admin API\r\nexport const adminAPI = {\r\n  getAllUsers: () => api.get('/admin/users'),\r\n  getAllOrders: () => api.get('/admin/orders'),\r\n  updateOrderStatus: (id, status) => api.put(`/admin/orders/${id}/status`, { status }),\r\n  deleteUser: (id) => api.delete(`/admin/users/${id}`),\r\n  getStats: () => api.get('/admin/stats'),\r\n};\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}